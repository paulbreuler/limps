# Run lint-staged in packages/limps to auto-fix formatting and linting on staged files
cd packages/limps && npx lint-staged

# Stage any auto-fixed files from lint-staged before running full checks
git add -u

# Run full validation from root (format check, lint, type-check, build, test across workspaces)
# If all checks pass, the commit will continue. If any check fails, the commit is blocked.
cd - > /dev/null && npm run validate
